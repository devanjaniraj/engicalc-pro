<!DOCTYPE html>
<html lang="en">    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Modern engineering calculator with scientific functions, unit conversions, statistics, matrix operations, and dark mode. Perfect for students and professionals.">
    <meta name="keywords" content="calculator, engineering calculator, scientific calculator, unit converter, matrix, statistics, periodic table, math, physics">
    <meta name="author" content="EngiCalc Pro">
    <meta name="theme-color" content="#667eea">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/devanjaniraj/engicalc-pro">
    <meta property="og:title" content="EngiCalc Pro - Modern Engineering Calculator">
    <meta property="og:description" content="Fully-featured engineering calculator with dark mode, unit conversions, statistics, and scientific functions">
    <meta property="og:image" content="https://raw.githubusercontent.com/devanjaniraj/engicalc-pro/main/preview.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://github.com/devanjaniraj/engicalc-pro">
    <meta property="twitter:title" content="EngiCalc Pro - Modern Engineering Calculator">
    <meta property="twitter:description" content="Fully-featured engineering calculator with dark mode, unit conversions, and scientific functions">
    <meta property="twitter:image" content="https://raw.githubusercontent.com/devanjaniraj/engicalc-pro/main/preview.png">
    
    <!-- PWA Configuration -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="EngiCalc Pro">
    
    <title>EngiCalc Pro - Engineering Calculator</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üßÆ</text></svg>">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%23667eea' width='180' height='180' rx='40'/><text y='130' font-size='100' font-weight='bold' fill='white' text-anchor='middle' x='90'>‚àë</text></svg>">
</head>
<body>
    <div class="container">
        <div class="calculator">
            <div class="header">
                <div class="header-top">
                    <h1 data-i18n="title">Engineering Calculator</h1>
                    <div class="header-controls">
                        <select class="lang-selector" id="langSelector" aria-label="Select language" title="Language">
                            <option value="en">EN</option>
                            <option value="es">ES</option>
                            <option value="fr">FR</option>
                            <option value="de">DE</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="ja">Êó•Êú¨Ë™û</option>
                        </select>
                        <button class="theme-selector" id="themeSelector" title="Select Theme" aria-label="Theme selector">
                            <span>üé®</span>
                        </button>
                        <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode" aria-label="Toggle between light and dark theme">
                            <span class="theme-icon" aria-hidden="true">üåô</span>
                        </button>
                    </div>
                </div>
                <div class="mode-toggle">
                    <button id="basicMode" class="mode-btn active" data-i18n="basic">Basic</button>
                    <button id="scientificMode" class="mode-btn" data-i18n="scientific">Scientific</button>
                    <button id="statisticsMode" class="mode-btn" data-i18n="statistics">Statistics</button>
                    <button id="matrixMode" class="mode-btn" data-i18n="matrix">Matrix</button>
                    <button id="equationMode" class="mode-btn" data-i18n="equations">Equations</button>
                    <button id="engineeringMode" class="mode-btn" data-i18n="engineering">Engineering</button>
                </div>
            </div>

            <div class="display-container">
                <div class="display-controls">
                    <div class="angle-toggle" id="angleToggle" title="Toggle Angle Mode" role="button" tabindex="0" aria-label="Toggle between degrees and radians">
                        <span class="angle-mode" id="angleMode" aria-live="polite">DEG</span>
                    </div>
                    <button class="copy-btn" id="copyBtn" title="Copy Result" aria-label="Copy result to clipboard">
                        <span aria-hidden="true">üìã</span>
                    </button>
                    <button class="undo-btn" id="undoBtn" title="Undo" aria-label="Undo last operation">
                        <span aria-hidden="true">‚Ü∂</span>
                    </button>
                    <button class="redo-btn" id="redoBtn" title="Redo" aria-label="Redo last operation">
                        <span aria-hidden="true">‚Ü∑</span>
                    </button>
                </div>
                <div class="history-display" id="historyDisplay" aria-label="Calculation expression" aria-live="polite"></div>
                <div class="main-display" id="mainDisplay" role="status" aria-label="Calculation result" aria-live="assertive">0</div>
            </div>

            <div class="memory-bar" id="memoryBar">
                <span id="memoryIndicator"></span>
            </div>

            <div class="calculator-body">
                <!-- Basic Calculator Section -->
                <div class="button-grid basic-grid" id="basicGrid">
                    <button class="btn func-btn" data-action="clear" data-i18n="clear">C</button>
                    <button class="btn func-btn" data-action="backspace" data-i18n="delete">‚å´</button>
                    <button class="btn func-btn" data-action="percent" data-i18n="percent">%</button>
                    <button class="btn operator-btn" data-action="divide" data-i18n="divide">√∑</button>
                    
                    <button class="btn num-btn" data-value="7">7</button>
                    <button class="btn num-btn" data-value="8">8</button>
                    <button class="btn num-btn" data-value="9">9</button>
                    <button class="btn operator-btn" data-action="multiply">√ó</button>
                    
                    <button class="btn num-btn" data-value="4">4</button>
                    <button class="btn num-btn" data-value="5">5</button>
                    <button class="btn num-btn" data-value="6">6</button>
                    <button class="btn operator-btn" data-action="subtract">‚àí</button>
                    
                    <button class="btn num-btn" data-value="1">1</button>
                    <button class="btn num-btn" data-value="2">2</button>
                    <button class="btn num-btn" data-value="3">3</button>
                    <button class="btn operator-btn" data-action="add">+</button>
                    
                    <button class="btn num-btn" data-value="0">0</button>
                    <button class="btn num-btn" data-value=".">.</button>
                    <button class="btn func-btn" data-action="negate">¬±</button>
                    <button class="btn equals-btn" data-action="equals">=</button>
                </div>

                <!-- Scientific Calculator Section -->
                <div class="button-grid scientific-grid hidden" id="scientificGrid">
                    <button class="btn func-btn" data-action="clear">C</button>
                    <button class="btn func-btn" data-action="backspace">‚å´</button>
                    <button class="btn sci-btn" data-action="square">x¬≤</button>
                    <button class="btn sci-btn" data-action="cube">x¬≥</button>
                    <button class="btn sci-btn" data-action="sqrt">‚àö</button>
                    <button class="btn operator-btn" data-action="divide">√∑</button>
                    
                    <button class="btn sci-btn" data-action="sin">sin</button>
                    <button class="btn sci-btn" data-action="cos">cos</button>
                    <button class="btn sci-btn" data-action="tan">tan</button>
                    <button class="btn sci-btn" data-action="asin">sin‚Åª¬π</button>
                    <button class="btn sci-btn" data-action="acos">cos‚Åª¬π</button>
                    <button class="btn operator-btn" data-action="multiply">√ó</button>
                    
                    <button class="btn sci-btn" data-action="atan">tan‚Åª¬π</button>
                    <button class="btn sci-btn" data-action="sinh">sinh</button>
                    <button class="btn sci-btn" data-action="cosh">cosh</button>
                    <button class="btn sci-btn" data-action="tanh">tanh</button>
                    <button class="btn sci-btn" data-action="power">x^y</button>
                    <button class="btn operator-btn" data-action="subtract">‚àí</button>
                    
                    <button class="btn sci-btn" data-action="log">log</button>
                    <button class="btn sci-btn" data-action="ln">ln</button>
                    <button class="btn sci-btn" data-action="exp">e^x</button>
                    <button class="btn sci-btn" data-action="cbrt">‚àõx</button>
                    <button class="btn sci-btn" data-action="modulo">mod</button>
                    <button class="btn operator-btn" data-action="add">+</button>
                    
                    <button class="btn num-btn" data-value="7">7</button>
                    <button class="btn num-btn" data-value="8">8</button>
                    <button class="btn num-btn" data-value="9">9</button>
                    <button class="btn sci-btn" data-action="factorial">n!</button>
                    <button class="btn sci-btn" data-action="pi">œÄ</button>
                    <button class="btn sci-btn" data-action="euler">e</button>
                    
                    <button class="btn num-btn" data-value="4">4</button>
                    <button class="btn num-btn" data-value="5">5</button>
                    <button class="btn num-btn" data-value="6">6</button>
                    <button class="btn sci-btn" data-action="reciprocal">1/x</button>
                    <button class="btn sci-btn" data-action="abs">|x|</button>
                    <button class="btn func-btn" data-action="negate">¬±</button>
                    
                    <button class="btn num-btn" data-value="1">1</button>
                    <button class="btn num-btn" data-value="2">2</button>
                    <button class="btn num-btn" data-value="3">3</button>
                    <button class="btn sci-btn" data-action="openParen">(</button>
                    <button class="btn sci-btn" data-action="closeParen">)</button>
                    <button class="btn num-btn" data-value=".">.</button>
                    
                    <button class="btn num-btn span-2" data-value="0">0</button>
                    <button class="btn sci-btn" data-action="percent">%</button>
                    <button class="btn sci-btn" data-action="rand">rand</button>
                    <button class="btn equals-btn span-2" data-action="equals">=</button>
                </div>

                <!-- Statistics Mode Section -->
                <div class="stats-panel hidden" id="statsPanel">
                    <div class="stats-section">
                        <h3 data-i18n="statistics">Statistics</h3>
                        <div class="input-group">
                            <input type="text" id="statsInput" placeholder="Enter values separated by commas" aria-label="Statistical data input">
                            <button class="btn func-btn" id="statsAdd" data-i18n="add">Add</button>
                            <button class="btn func-btn" id="statsClear" data-i18n="clear">Clear</button>
                        </div>
                        <div class="stats-results" id="statsResults">
                            <div class="stat-item"><span data-i18n="mean">Mean:</span> <span id="statMean">-</span></div>
                            <div class="stat-item"><span data-i18n="median">Median:</span> <span id="statMedian">-</span></div>
                            <div class="stat-item"><span data-i18n="mode">Mode:</span> <span id="statMode">-</span></div>
                            <div class="stat-item"><span data-i18n="stdDev">Std Dev:</span> <span id="statStdDev">-</span></div>
                            <div class="stat-item"><span data-i18n="variance">Variance:</span> <span id="statVariance">-</span></div>
                        </div>
                    </div>
                </div>

                <!-- Matrix Mode Section -->
                <div class="matrix-panel hidden" id="matrixPanel">
                    <div class="matrix-section">
                        <h3 data-i18n="matrix">Matrix Calculator</h3>
                        <div class="matrix-controls">
                            <select id="matrixOp" class="unit-select">
                                <option value="add">Add Matrices</option>
                                <option value="subtract">Subtract Matrices</option>
                                <option value="multiply">Multiply Matrices</option>
                                <option value="transpose">Transpose</option>
                                <option value="determinant">Determinant</option>
                            </select>
                            <button class="btn func-btn" id="matrixCalc">Calculate</button>
                            <button class="btn func-btn" id="matrixClear" data-i18n="clear">Clear</button>
                        </div>
                        <div id="matrixResults" class="matrix-results"></div>
                    </div>
                </div>

                <!-- Equation Solver Section -->
                <div class="equation-panel hidden" id="equationPanel">
                    <div class="equation-section">
                        <h3 data-i18n="equations">Equation Solver</h3>
                        <div class="equation-controls">
                            <select id="eqnType" class="unit-select">
                                <option value="linear">Linear (ax + b = 0)</option>
                                <option value="quadratic">Quadratic (ax¬≤ + bx + c = 0)</option>
                                <option value="system2x2">System 2x2</option>
                            </select>
                            <div id="equationInputs" class="equation-inputs"></div>
                            <button class="btn func-btn" id="solveBtn">Solve</button>
                            <button class="btn func-btn" id="eqnClear" data-i18n="clear">Clear</button>
                        </div>
                        <div id="equationResults" class="equation-results"></div>
                    </div>
                </div>

                <!-- Engineering Calculator Section -->
                <div class="engineering-panel hidden" id="engineeringPanel">
                    <div class="conversion-section">
                        <h3 data-i18n="units">Unit Conversions</h3>
                        <div class="conversion-grid">
                            <select id="unitCategory" class="unit-select">
                                <option value="length">Length</option>
                                <option value="mass">Mass</option>
                                <option value="temperature">Temperature</option>
                                <option value="area">Area</option>
                                <option value="volume">Volume</option>
                                <option value="speed">Speed</option>
                                <option value="pressure">Pressure</option>
                                <option value="energy">Energy</option>
                            </select>
                            <div class="conversion-inputs">
                                <div class="input-group">
                                    <input type="number" id="fromValue" placeholder="From" aria-label="From value">
                                    <select id="fromUnit" class="unit-select"></select>
                                </div>
                                <span class="arrow">‚Üí</span>
                                <div class="input-group">
                                    <input type="number" id="toValue" placeholder="To" readonly aria-label="To value">
                                    <select id="toUnit" class="unit-select"></select>
                                </div>
                            </div>
                            <button class="btn func-btn" id="convertBtn" data-i18n="convert">Convert</button>
                        </div>
                    </div>

                    <div class="constants-section">
                        <h3 data-i18n="constants">Physical Constants</h3>
                        <div class="constants-grid">
                            <button class="btn const-btn" data-constant="c">Speed of Light (c)</button>
                            <button class="btn const-btn" data-constant="g">Gravity (g)</button>
                            <button class="btn const-btn" data-constant="planck">Planck's (h)</button>
                            <button class="btn const-btn" data-constant="avogadro">Avogadro (N‚Çê)</button>
                            <button class="btn const-btn" data-constant="boltzmann">Boltzmann (k)</button>
                            <button class="btn const-btn" data-constant="gas">Gas Constant (R)</button>
                        </div>
                    </div>

                    <div class="memory-section">
                        <h3 data-i18n="memory">Memory Functions</h3>
                        <div class="memory-grid">
                            <button class="btn mem-btn" data-action="mc" data-i18n="memoryClear">MC</button>
                            <button class="btn mem-btn" data-action="mr" data-i18n="memoryRecall">MR</button>
                            <button class="btn mem-btn" data-action="mplus" data-i18n="memoryAdd">M+</button>
                            <button class="btn mem-btn" data-action="mminus" data-i18n="memorySub">M‚àí</button>
                            <button class="btn mem-btn" data-action="ms" data-i18n="memoryStore">MS</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="history-panel hidden" id="historyPanel">
                <div class="history-header">
                    <h3 data-i18n="history">History</h3>
                    <button class="btn func-btn" id="clearHistory" data-i18n="clearHistory">Clear</button>
                </div>
                <div class="history-list" id="historyList"></div>
            </div>

            <button class="history-toggle" id="historyToggle">
                <span>üìú</span> <span data-i18n="history">History</span>
            </button>
        </div>
    </div>

    <!-- Modal for theme selection -->
    <div class="modal hidden" id="themeModal">
        <div class="modal-content">
            <h2>Select Theme</h2>
            <div class="theme-grid" id="themeGrid"></div>
            <button class="btn func-btn" id="closeThemeModal">Close</button>
        </div>
    </div>

    <!-- Script Loading -->
    <script src="modules/statistics.js"></script>
    <script src="modules/matrix.js"></script>
    <script src="modules/equation-solver.js"></script>
    <script src="modules/periodic-table.js"></script>
    <script src="modules/utilities.js"></script>
    <script src="modules/i18n.js"></script>
    <script src="script.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(registration => {
                console.log('Service Worker registered:', registration);
            }).catch(error => {
                console.log('Service Worker registration failed:', error);
            });
        }

        // Install prompt handler
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });
    </script>
</body>
</html>
